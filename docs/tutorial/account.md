# 登录与账户管理

![账户展示](images/account.png)

在这里，你可以添加多个账户，并在它们之间自由切换，以查询不同账户的信息。

## 功能概览

我们为你提供了强大的登录、多账户支持与个性化功能，主要包括：

1. **便捷登录**：你可以使用学号和密码轻松登录，并支持通过学校认证系统要求的两步验证。
2. **多账户支持**：你可以添加并管理多个账户，方便在不同身份间切换，查看相应信息。
3. **个性化设置**：你可以为每个账户设置独特的昵称和头像，让账户列表一目了然。

## 登录

你需要输入你的账号信息（学号或注册手机号）和密码来登录。在大多数情况下，首次登录需要进行两步验证。这需要你通过绑定的手机号接收一条验证码短信，输入后即可完成登录。

::: details 为什么需要密码？
我们的目标是让你能随时方便地查询自己的信息，而无需在各个网站间重复登录和输入密码。

然而，学校的认证系统目前还不支持如 OAuth 这样无需密码即可长期授权访问的机制，因此我们不得不请求你提供密码。
:::

::: details 我的密码安全吗？
你的密码是绝对安全的。

你的所有敏感数据（如学号、密码）都只会用于与西安交通大学的官方服务器进行通信，绝不会发送到任何其他地方。

在本地存储时，我们默认将你的密码存放在操作系统的钥匙串（Keychain）或凭据管理器（Credential Manager）中，以获得系统级别的安全保障。此外，你还可以设置本地加密密码，进一步增强账户信息的安全性。
:::

::: details 为什么程序在两步验证时会知道我的手机号？
这是因为学校的认证系统在进行两步验证时，会返回一个经过部分掩码处理的手机号（例如，只显示前3位和后4位），以便你确认验证码是否发送到了正确的号码。

我们只是将这个掩码信息展示给你，并不会获取或存储你的完整手机号。
:::

在进行两步验证时，你可以选择“登录成功后，设为可信客户端”。勾选此项后，我们会在完成验证时请求服务器将当前设备标记为可信，这样你下次登录时便无需再次进行两步验证。

为保障你的账户安全，请仅在你的私人电脑上启用此选项，切勿在公共电脑或他人设备上使用。

## 多账户支持

你可以通过点击“添加账户”按钮来添加多个账户。每个账户都可以独立登录，当你切换账户时，程序会自动加载该账户的所有相关信息。

## 本科生与研究生账户区分

当你添加一个新账户时，我们会通过查询该账户的身份信息来自动区分是本科生还是研究生账户。

在本校继续读研的同学可能会在一段时间内同时拥有本科生和研究生两个身份。在这种情况下，如果使用手机号登录，我们无法自动区分，需要你手动选择要登录的账户。如果使用学号登录，则可以自动识别账户类型。

## 个性化设置

你可以通过每个账户卡片右侧的“更多”菜单，为账户设置一个昵称和头像，以便于快速区分。

所有个性化设置仅保存在你的本地设备上，**不会**上传到任何服务器，也**不会**影响你在西安交通大学官方系统中的任何账户信息。

## 删除账户数据

如果你希望删除某个账户的所有数据，可以点击该账户卡片右侧的“更多”菜单，并选择“删除”。该账户的用户名、密码以及所有本地存储的数据都将被彻底移除，且无法恢复。

请注意，程序的数据与程序本身是分开存储的，卸载程序并不会删除你的账户数据。如果你需要彻底清空所有账户信息，请前往“设置”页面，选择“账户 -> 清除所有账户”。

## 数据保护设置

在设置页面，我们为你提供了多种保护账户数据安全的选项：

1. **加密账户**：你可以为所有账户设置一个通用的加密密码。设置后，每次启动程序都需要输入该密码才能访问账户信息。
2. **清除所有账户**：你可以一键删除所有账户数据，包括用户名、密码和所有已存储的信息。这是一个不可逆操作，请谨慎使用。
3. **使用系统密码管理器**：我们默认启用此功能，利用操作系统原生安全机制（如 macOS 的“钥匙串”和 Windows 的“凭据管理器”）来保管你的密码，以提供更高级别的安全保障。
